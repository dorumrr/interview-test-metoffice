<div class="container-app">

  <h1 [innerHTML]="title" class="container-title mat-display-1"></h1>

  <div class="container-selector">
    <mat-form-field appearance="outline">
        <mat-label>Start Date</mat-label>
      <mat-select (selectionChange)="updateData('startDate')" [(value)]="selected.startDate" name="startDate">
        <mat-option [value]="date.code" *ngFor="let date of dates">
          {{date.title}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>End Date</mat-label>
      <mat-select (selectionChange)="updateData('endDate')" [(value)]="selected.endDate" name="endDate">
        <mat-option [value]="date.code" *ngFor="let date of dates">
          {{date.title}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="separator" *ngIf="showSeparator"></div>

    <mat-form-field appearance="outline">
      <mat-label>Metric</mat-label>
      <mat-select (selectionChange)="updateData('metric')" [(value)]="selected.metric" name="metric">
        <mat-option [value]="metric.key" selected *ngFor="let metric of metrics">
          {{metric.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Location</mat-label>
      <mat-select (selectionChange)="updateData('location')" [(value)]="selected.location" name="location">
        <mat-option [value]="location.key" *ngFor="let location of locations">
          {{location.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div *ngIf="chartData" class="container-chart smooth">
    <canvas id="canvasChart">{{chartData}}</canvas>
  </div>


  <div class="specs">
    <h2>
      TEST SPECS
    </h2>
    <p>
      Your mission is to create a simple Angular.io app using Angular Material that displays monthly weather data as a chart.
    </p>
    <p>
      The source data comes from the UK metoffice here:
    </p>
    <p>
      https://www.metoffice.gov.uk/climate/uk/summaries/datasets#Yearorder
    </p>
    <p>
      For convenience weâ€™ve scraped this into JSON files on AWS S3
    </p>
    <p>
      There are three metrics: Tmax (max temperature), Tmin (min temperature) and Rainfall (mm), and 4 locations: UK, England, Scotland, Wales. The url on S3 is:
    </p>
    <p>
      https://s3.eu-west-2.amazonaws.com/****************/metoffice/{{'{'}}metric{{'}'}}-{{'{'}}location{{'}'}}.json
    </p>
    <p>
      E.g: https://s3.eu-west-2.amazonaws.com/****************/metoffice/Rainfall-England.json
    </p>
    <p>
      (Note that Jan=1, Dec=12)
    </p>
    <p>
      The bare minimum app will fetch the data on-demand from S3 to show a single metric for a single geographic region between two user-supplied dates e.g Max Temp for the UK between two dates. The graph should update automatically when the dates are changed. The app must be responsive i.e it should still work on small screens.
    </p>
    <p>
      The app should be runnable out of the box, but deployment is optional.
    </p>
  </div>

</div>
